{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"IoTaaP Console REST API IoTaaP's API (Application Programming Interface) gives you the power to controll our software layer which runs behind the scenes. Managing and connecting resources is quick and easy. General API information API runs on a separate cloud instance and it can be accessed via https://api.iotaap.io/v1 for API version 1. This URL must be followed by the managed model (/user, /groups, etc.) or you will get the following error: Code : 404 NOT FOUND Content : <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"utf-8\" > < title > Error </ title > </ head > < body > < pre > Cannot GET /v1 </ pre > </ body > </ html > API Reference Our API is resource-oriented, accepts JSON-encoded (application/json) by default or from-data (multipart/form-data) in special cases. API returns JSON-encoded responses, and uses standard HTTP response codes. Future API versions API might change in the future and you will be able to access new API versions using '/v2' or similar.","title":"Home"},{"location":"#iotaap-console-rest-api","text":"IoTaaP's API (Application Programming Interface) gives you the power to controll our software layer which runs behind the scenes. Managing and connecting resources is quick and easy.","title":"IoTaaP Console REST API"},{"location":"#general-api-information","text":"API runs on a separate cloud instance and it can be accessed via https://api.iotaap.io/v1 for API version 1. This URL must be followed by the managed model (/user, /groups, etc.) or you will get the following error: Code : 404 NOT FOUND Content : <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"utf-8\" > < title > Error </ title > </ head > < body > < pre > Cannot GET /v1 </ pre > </ body > </ html >","title":"General API information"},{"location":"#api-reference","text":"Our API is resource-oriented, accepts JSON-encoded (application/json) by default or from-data (multipart/form-data) in special cases. API returns JSON-encoded responses, and uses standard HTTP response codes. Future API versions API might change in the future and you will be able to access new API versions using '/v2' or similar.","title":"API Reference"},{"location":"authentication/","text":"Authentication Initial authentication is based on email and password. After initial documentation Bearer token will be returned and it must be included in the header of every request. Bearer Token expires every 30 days Basic Auth URL : https://api.iotaap.io/v1/auth/login Method : POST Body Params email (string) : valid e-mail password (string) : valid password rememberMe (bool) : true/false (optional) Body example { \"email\" : \"your@email.com\" , \"password\" : \"yourPassword\" , \"rememberMe\" : \"false\" } Success Response Code : 200 OK Response example { \"user\" : { \"id\" : \"5e10fc5e77ba18070312e171\" , \"role\" : \"user\" }, \"token\" : \"eyJhbGciOiJIUzI1NiIsInzwqaI6IkpXVCJ9.eyJpZCI6IjVlMTBmYzVlNzdiYTE4MDcwMzEyZTE3MSIskeq4eGUiOiJhZG1pbiIsImlhdCI6MTU3OTQ0MjI1NSwiZXhwIjoxNTgyMDM0MjU1fQ.7EUmUzwqbcR35asesYwpsjy2PVAb8BC2ETPipT-gjZq8\" } Error Response Condition : If 'email' and 'password' combination is wrong Code : 401 UNAUTHORIZED Content : { \"error\" : \"Login or password is wrong\" } Token Auth Every request must include Bearer token in the header for successfull authentication. Header Params Authorization (string) : valid Bearer token Header Param Example Authorization: Bearer eyJhbGciOiJIUzI 1 NiIsInsfcCI 6 IkpXVCJ 9 .eyJpZCI 6 IjVlMTBmYzVlNzdiYTE 4 MDcwMzEyZTE 3 MSIsInJvbGUiOswhZG 1 pbiIsImlhdCI 6 MTU 3 OTQ 0 MTA 2 OSwiZXhwIjoxNTgyMDMzMDY 5 fQ.OCXq 05 RLQv 4 xQsxxrtTZYk 3 OZ 4 jEu 9 vnwAQORYHlqRw Success Response Success response for the called method Error Response Condition : If Bearer token is not valid Code : 401 UNAUTHORIZED Content : Unauthorized","title":"Authentication"},{"location":"authentication/#authentication","text":"Initial authentication is based on email and password. After initial documentation Bearer token will be returned and it must be included in the header of every request. Bearer Token expires every 30 days","title":"Authentication"},{"location":"authentication/#basic-auth","text":"URL : https://api.iotaap.io/v1/auth/login Method : POST Body Params email (string) : valid e-mail password (string) : valid password rememberMe (bool) : true/false (optional) Body example { \"email\" : \"your@email.com\" , \"password\" : \"yourPassword\" , \"rememberMe\" : \"false\" }","title":"Basic Auth"},{"location":"authentication/#success-response","text":"Code : 200 OK Response example { \"user\" : { \"id\" : \"5e10fc5e77ba18070312e171\" , \"role\" : \"user\" }, \"token\" : \"eyJhbGciOiJIUzI1NiIsInzwqaI6IkpXVCJ9.eyJpZCI6IjVlMTBmYzVlNzdiYTE4MDcwMzEyZTE3MSIskeq4eGUiOiJhZG1pbiIsImlhdCI6MTU3OTQ0MjI1NSwiZXhwIjoxNTgyMDM0MjU1fQ.7EUmUzwqbcR35asesYwpsjy2PVAb8BC2ETPipT-gjZq8\" }","title":"Success Response"},{"location":"authentication/#error-response","text":"Condition : If 'email' and 'password' combination is wrong Code : 401 UNAUTHORIZED Content : { \"error\" : \"Login or password is wrong\" }","title":"Error Response"},{"location":"authentication/#token-auth","text":"Every request must include Bearer token in the header for successfull authentication. Header Params Authorization (string) : valid Bearer token Header Param Example Authorization: Bearer eyJhbGciOiJIUzI 1 NiIsInsfcCI 6 IkpXVCJ 9 .eyJpZCI 6 IjVlMTBmYzVlNzdiYTE 4 MDcwMzEyZTE 3 MSIsInJvbGUiOswhZG 1 pbiIsImlhdCI 6 MTU 3 OTQ 0 MTA 2 OSwiZXhwIjoxNTgyMDMzMDY 5 fQ.OCXq 05 RLQv 4 xQsxxrtTZYk 3 OZ 4 jEu 9 vnwAQORYHlqRw","title":"Token Auth"},{"location":"authentication/#success-response_1","text":"Success response for the called method","title":"Success Response"},{"location":"authentication/#error-response_1","text":"Condition : If Bearer token is not valid Code : 401 UNAUTHORIZED Content : Unauthorized","title":"Error Response"},{"location":"deviceOta/","text":"Device OTA Update IoTaaP OTA Update gives you the possibility to deploy your new firmware to the device remotely. Get all OTA Updates Returns list of all OTA upgrades for the owned devices. Notice that system will return only last OTA upgrade information for the device. URL : https://api.iotaap.io/v1/ota/device Method : GET Auth required : YES URL Params search_value (string) : filtering value string (filtering path parameter) offset (number) : number of records to skip limit (number) : number of records to return draw (string) : value will be returned back in the response order_dir (string) : asc/desc Success Response Code : 200 OK Response example { \"otas\" : [ { \"_id\" : \"5e1bc3cc5a5cde30ff0a1ed6\" , \"device\" : \"5e1b57808711f904f5df4bad\" , \"__v\" : 0 , \"last_updated\" : \"2020-01-21T22:59:29.940Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"path\" : \"ota/device/5e1b57808711f904f5df4badFSXuSmJRiJ4v/firmware.bin\" , \"version\" : \"1.2.7\" } ], \"recordsTotal\" : 1 , \"recordsFiltered\" : 1 , \"draw\" : \"warp\" } Response Params otas (array) : array of OTA upgrade objects recordsTotal (number) : total number of records (OTA upgrades) recordsFiltered (number) : number of records that match given filter draw (string) : draw string from request Error Response Condition : If devices resources are not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when getting device OTA's.\" , \"error\" : \"<Error information>\" } Make new OTA Update System will deploy new firmware.bin file to the secure Cloud location and trigger update process on the device. Firmware version Notice that the OTA Update will be triggered on the device if version parameter is different from the previous firmware! URL : https://api.iotaap.io/v1/device Method : POST Auth required : YES Body Params (all are required) firmware (file) : firmware.bin file (compiled Firmware) device (string) : device ID token (string) : valid device token version (string) : firmware version (Semantic versioning, e.g.: 1.5.7) Firmware You must upload only firmware.bin file that is generated by PlatformIO. You have to keep device key, token and OTA information in the new firmware version otherwise you will loose the possibility to monitor, control or update your device remotely! Body example (form-data) Key Value firmware [firmware.bin] device 5e1b57808711ff04f5df4bbd token FSouSAJRiJ3v version 1.2.7 Success Response Code : 201 CREATED Response example { \"message\" : \"Firmware successfully deployed\" } Error Responses Condition : If mandatory parameter is missing, if Device ID is not valid, or if file is not uploaded Code : 400 BAD REQUEST Content : { \"message\" : \"<field-name> is a mandatory field\" } { \"message\" : \"Device ID is not valid\" } { \"message\" : \"No file uploaded\" } Condition : If device doesn't exist or current user is not the owner Code : 404 NOT FOUND Content : { \"message\" : \"No such device\" } Condition : If there was an issue during firmware deployment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when uploading firmware file\" , \"error\" : \"<Error information>\" }","title":"Device OTA"},{"location":"deviceOta/#device-ota-update","text":"IoTaaP OTA Update gives you the possibility to deploy your new firmware to the device remotely.","title":"Device OTA Update"},{"location":"deviceOta/#get-all-ota-updates","text":"Returns list of all OTA upgrades for the owned devices. Notice that system will return only last OTA upgrade information for the device. URL : https://api.iotaap.io/v1/ota/device Method : GET Auth required : YES URL Params search_value (string) : filtering value string (filtering path parameter) offset (number) : number of records to skip limit (number) : number of records to return draw (string) : value will be returned back in the response order_dir (string) : asc/desc","title":"Get all OTA Updates"},{"location":"deviceOta/#success-response","text":"Code : 200 OK Response example { \"otas\" : [ { \"_id\" : \"5e1bc3cc5a5cde30ff0a1ed6\" , \"device\" : \"5e1b57808711f904f5df4bad\" , \"__v\" : 0 , \"last_updated\" : \"2020-01-21T22:59:29.940Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"path\" : \"ota/device/5e1b57808711f904f5df4badFSXuSmJRiJ4v/firmware.bin\" , \"version\" : \"1.2.7\" } ], \"recordsTotal\" : 1 , \"recordsFiltered\" : 1 , \"draw\" : \"warp\" } Response Params otas (array) : array of OTA upgrade objects recordsTotal (number) : total number of records (OTA upgrades) recordsFiltered (number) : number of records that match given filter draw (string) : draw string from request","title":"Success Response"},{"location":"deviceOta/#error-response","text":"Condition : If devices resources are not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when getting device OTA's.\" , \"error\" : \"<Error information>\" }","title":"Error Response"},{"location":"deviceOta/#make-new-ota-update","text":"System will deploy new firmware.bin file to the secure Cloud location and trigger update process on the device. Firmware version Notice that the OTA Update will be triggered on the device if version parameter is different from the previous firmware! URL : https://api.iotaap.io/v1/device Method : POST Auth required : YES Body Params (all are required) firmware (file) : firmware.bin file (compiled Firmware) device (string) : device ID token (string) : valid device token version (string) : firmware version (Semantic versioning, e.g.: 1.5.7) Firmware You must upload only firmware.bin file that is generated by PlatformIO. You have to keep device key, token and OTA information in the new firmware version otherwise you will loose the possibility to monitor, control or update your device remotely! Body example (form-data) Key Value firmware [firmware.bin] device 5e1b57808711ff04f5df4bbd token FSouSAJRiJ3v version 1.2.7","title":"Make new OTA Update"},{"location":"deviceOta/#success-response_1","text":"Code : 201 CREATED Response example { \"message\" : \"Firmware successfully deployed\" }","title":"Success Response"},{"location":"deviceOta/#error-responses","text":"Condition : If mandatory parameter is missing, if Device ID is not valid, or if file is not uploaded Code : 400 BAD REQUEST Content : { \"message\" : \"<field-name> is a mandatory field\" } { \"message\" : \"Device ID is not valid\" } { \"message\" : \"No file uploaded\" } Condition : If device doesn't exist or current user is not the owner Code : 404 NOT FOUND Content : { \"message\" : \"No such device\" } Condition : If there was an issue during firmware deployment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when uploading firmware file\" , \"error\" : \"<Error information>\" }","title":"Error Responses"},{"location":"devices/","text":"Devices User can manage only his devices. System will automatically generate new device parameters. If you are looking for OTA updates, please check 'Devices OTA'. Get all devices URL : https://api.iotaap.io/v1/devices Method : GET Auth required : YES URL Params search_value (string) : filtering value string offset (number) : number of records to skip limit (number) : number of records to return draw (string) : value will be returned back in the response order_dir (string) : asc/desc Success Response Code : 200 OK Response example { \"devices\" : [ { \"_id\" : \"5e1a5ecfe2ac3a3bdb45fcc5\" , \"type\" : \"Magnolia\" , \"name\" : \"spaceship_controller\" , \"token\" : \"y1LV50tJkqZz\" , \"last_contact\" : null , \"created_at\" : \"2020-01-11T23:48:31.148Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"__v\" : 0 }, { \"_id\" : \"5e1a5faee2ac3a3bdb45fcc7\" , \"type\" : \"Magnolia\" , \"name\" : \"rocket_engine\" , \"token\" : \"xA2KFbFshxf9\" , \"last_contact\" : null , \"created_at\" : \"2020-01-11T23:52:14.431Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"__v\" : 0 , \"group\" : \"5e1b521970170d025fc2ba06\" } ], \"recordsTotal\" : 15 , \"recordsFiltered\" : 2 , \"draw\" : \"warp\" } Response Params devices (array) : array of device objects recordsTotal (number) : total number of records (devices) recordsFiltered (number) : number of records that match given filter draw (string) : draw string from request Error Response Condition : If devices resources are not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when getting devices\" , \"error\" : \"<Error information>\" } Get specific device URL : https://api.iotaap.io/v1/devices/{device-id} Method : GET Auth required : YES Path Params {device-id} (string) : specific device ID URL example https://api.iotaap.io/v1/devices/5e1a5ecbe2ac3a3bdb45fcc4 Success Response Code : 200 OK Response example { \"_id\" : \"5e1a5ecbe2ac3a3bdb45fcc4\" , \"type\" : \"Magnolia\" , \"name\" : \"warp_machine\" , \"token\" : \"HlQeS1oKcVYx\" , \"last_contact\" : null , \"created_at\" : \"2020-01-11T23:48:27.322Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"__v\" : 0 } Error Response Condition : If device does not exist or current user is not the owner Code : 404 NOT FOUND Content : { \"message\" : \"No such device\" } Condition : If devices resources are not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when getting devices\" , \"error\" : \"<Error information>\" } Create new device System will automatically generate new device credentials if there are available devices in the current billing plan URL : https://api.iotaap.io/v1/devices Method : POST Auth required : YES Body Params name (string) : device name Random name If name parameter is not provided system will automatically generate random 10 characters name for your device Body example { \"name\" : \"my_machine\" } Success Response Code : 201 CREATED Response example { \"_id\" : \"5e24a2d083f4ab0549cc4754\" , \"type\" : \"Magnolia\" , \"name\" : \"my_machine\" , \"token\" : \"joWok7C98EYR\" , \"last_contact\" : null , \"created_at\" : \"2020-01-19T18:41:20.685Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"__v\" : 0 } Error Responses Condition : If user information is not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when creating device\" , \"error\" : \"<Error information>\" } Update existing device URL : https://api.iotaap.io/v1/devices/{device-id} Method : PUT Auth required : YES Path Params {device-id} (string) : specific device ID URL example https://api.iotaap.io/v1/devices/5e1a5ecbe2ac3a3bdb45fcc4 Body Params name (string) : device name group (string) : group ID Body example { \"name\" : \"my_new_machine\" , \"group\" : \"5e1b76bc4315b70eb2425679\" } Group parameter Notice that group parameter is optional. If Group ID is wrong or user is not the owner of the group this parameter will be ignored but device name will be updated. If group parameter is valid in the background our system will add group parameter to the device, and by that device will become a part of the specified group. Removing device from the group In order to remove specific device from the group you must pass the group parameter with the string value: undefined . In the background our system will remove group parameter from the device and by that device will not be a part of any group. Example: { \"group\" : \"undefined\" } Success Response Code : 200 OK Response example { \"_id\" : \"5e24a2d083f4ab0549cc4754\" , \"type\" : \"Magnolia\" , \"name\" : \"my_new_machine\" , \"token\" : \"joWok7C98EYR\" , \"last_contact\" : null , \"created_at\" : \"2020-01-19T18:41:20.685Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"__v\" : 0 } Error Responses Condition : If device does not exist or current user is not the owner Code : 404 NOT FOUND Content : { \"message\" : \"No such device\" } Condition : If devices information is not available at the moment or Group ID is not valid Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when updating device\" , \"error\" : \"<Error information>\" } { \"message\" : \"Group ID is not valid\" } Remove device URL : https://api.iotaap.io/v1/devices/{device-id} Method : DELETE Auth required : YES Path Params {device-id} (string) : specific device ID URL example https://api.iotaap.io/v1/devices/5e24a2d083f4ab0549cc4754 Success Response Code : 200 OK Response example { \"message\" : \"Device successfully removed\" } Error Responses Condition : If device doesn't exist or current user is not the owner Code : 404 NOT FOUND Content : { \"message\" : \"No such device\" } Condition : If user information is not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when removing device\" , \"error\" : \"<Error information>\" }","title":"Devices"},{"location":"devices/#devices","text":"User can manage only his devices. System will automatically generate new device parameters. If you are looking for OTA updates, please check 'Devices OTA'.","title":"Devices"},{"location":"devices/#get-all-devices","text":"URL : https://api.iotaap.io/v1/devices Method : GET Auth required : YES URL Params search_value (string) : filtering value string offset (number) : number of records to skip limit (number) : number of records to return draw (string) : value will be returned back in the response order_dir (string) : asc/desc","title":"Get all devices"},{"location":"devices/#success-response","text":"Code : 200 OK Response example { \"devices\" : [ { \"_id\" : \"5e1a5ecfe2ac3a3bdb45fcc5\" , \"type\" : \"Magnolia\" , \"name\" : \"spaceship_controller\" , \"token\" : \"y1LV50tJkqZz\" , \"last_contact\" : null , \"created_at\" : \"2020-01-11T23:48:31.148Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"__v\" : 0 }, { \"_id\" : \"5e1a5faee2ac3a3bdb45fcc7\" , \"type\" : \"Magnolia\" , \"name\" : \"rocket_engine\" , \"token\" : \"xA2KFbFshxf9\" , \"last_contact\" : null , \"created_at\" : \"2020-01-11T23:52:14.431Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"__v\" : 0 , \"group\" : \"5e1b521970170d025fc2ba06\" } ], \"recordsTotal\" : 15 , \"recordsFiltered\" : 2 , \"draw\" : \"warp\" } Response Params devices (array) : array of device objects recordsTotal (number) : total number of records (devices) recordsFiltered (number) : number of records that match given filter draw (string) : draw string from request","title":"Success Response"},{"location":"devices/#error-response","text":"Condition : If devices resources are not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when getting devices\" , \"error\" : \"<Error information>\" }","title":"Error Response"},{"location":"devices/#get-specific-device","text":"URL : https://api.iotaap.io/v1/devices/{device-id} Method : GET Auth required : YES Path Params {device-id} (string) : specific device ID URL example https://api.iotaap.io/v1/devices/5e1a5ecbe2ac3a3bdb45fcc4","title":"Get specific device"},{"location":"devices/#success-response_1","text":"Code : 200 OK Response example { \"_id\" : \"5e1a5ecbe2ac3a3bdb45fcc4\" , \"type\" : \"Magnolia\" , \"name\" : \"warp_machine\" , \"token\" : \"HlQeS1oKcVYx\" , \"last_contact\" : null , \"created_at\" : \"2020-01-11T23:48:27.322Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"__v\" : 0 }","title":"Success Response"},{"location":"devices/#error-response_1","text":"Condition : If device does not exist or current user is not the owner Code : 404 NOT FOUND Content : { \"message\" : \"No such device\" } Condition : If devices resources are not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when getting devices\" , \"error\" : \"<Error information>\" }","title":"Error Response"},{"location":"devices/#create-new-device","text":"System will automatically generate new device credentials if there are available devices in the current billing plan URL : https://api.iotaap.io/v1/devices Method : POST Auth required : YES Body Params name (string) : device name Random name If name parameter is not provided system will automatically generate random 10 characters name for your device Body example { \"name\" : \"my_machine\" }","title":"Create new device"},{"location":"devices/#success-response_2","text":"Code : 201 CREATED Response example { \"_id\" : \"5e24a2d083f4ab0549cc4754\" , \"type\" : \"Magnolia\" , \"name\" : \"my_machine\" , \"token\" : \"joWok7C98EYR\" , \"last_contact\" : null , \"created_at\" : \"2020-01-19T18:41:20.685Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"__v\" : 0 }","title":"Success Response"},{"location":"devices/#error-responses","text":"Condition : If user information is not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when creating device\" , \"error\" : \"<Error information>\" }","title":"Error Responses"},{"location":"devices/#update-existing-device","text":"URL : https://api.iotaap.io/v1/devices/{device-id} Method : PUT Auth required : YES Path Params {device-id} (string) : specific device ID URL example https://api.iotaap.io/v1/devices/5e1a5ecbe2ac3a3bdb45fcc4 Body Params name (string) : device name group (string) : group ID Body example { \"name\" : \"my_new_machine\" , \"group\" : \"5e1b76bc4315b70eb2425679\" } Group parameter Notice that group parameter is optional. If Group ID is wrong or user is not the owner of the group this parameter will be ignored but device name will be updated. If group parameter is valid in the background our system will add group parameter to the device, and by that device will become a part of the specified group. Removing device from the group In order to remove specific device from the group you must pass the group parameter with the string value: undefined . In the background our system will remove group parameter from the device and by that device will not be a part of any group. Example: { \"group\" : \"undefined\" }","title":"Update existing device"},{"location":"devices/#success-response_3","text":"Code : 200 OK Response example { \"_id\" : \"5e24a2d083f4ab0549cc4754\" , \"type\" : \"Magnolia\" , \"name\" : \"my_new_machine\" , \"token\" : \"joWok7C98EYR\" , \"last_contact\" : null , \"created_at\" : \"2020-01-19T18:41:20.685Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"__v\" : 0 }","title":"Success Response"},{"location":"devices/#error-responses_1","text":"Condition : If device does not exist or current user is not the owner Code : 404 NOT FOUND Content : { \"message\" : \"No such device\" } Condition : If devices information is not available at the moment or Group ID is not valid Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when updating device\" , \"error\" : \"<Error information>\" } { \"message\" : \"Group ID is not valid\" }","title":"Error Responses"},{"location":"devices/#remove-device","text":"URL : https://api.iotaap.io/v1/devices/{device-id} Method : DELETE Auth required : YES Path Params {device-id} (string) : specific device ID URL example https://api.iotaap.io/v1/devices/5e24a2d083f4ab0549cc4754","title":"Remove device"},{"location":"devices/#success-response_4","text":"Code : 200 OK Response example { \"message\" : \"Device successfully removed\" }","title":"Success Response"},{"location":"devices/#error-responses_2","text":"Condition : If device doesn't exist or current user is not the owner Code : 404 NOT FOUND Content : { \"message\" : \"No such device\" } Condition : If user information is not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when removing device\" , \"error\" : \"<Error information>\" }","title":"Error Responses"},{"location":"groupOta/","text":"Group OTA Update IoTaaP Group OTA Update gives you the possibility to deploy your new firmware to the multiple devices remotely. Get all OTA Updates Returns list of all OTA upgrades for the owned groups. Notice that system will return only last OTA upgrade information for the group. URL : https://api.iotaap.io/v1/ota/group Method : GET Auth required : YES URL Params search_value (string) : filtering value string (filtering path parameter) offset (number) : number of records to skip limit (number) : number of records to return draw (string) : value will be returned back in the response order_dir (string) : asc/desc Success Response Code : 200 OK Response example { \"otas\" : [ { \"_id\" : \"5e1bc21cdfa10030ab7ea212\" , \"group\" : \"5e1b76bc4315b70eb242567a\" , \"__v\" : 0 , \"last_updated\" : \"2020-01-17T17:38:59.983Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"path\" : \"ota/group/5e1b76bc4315b70eb242567aAATluvfLURijoH9d/firmware.bin\" , \"version\" : \"1.2.7\" }, { \"_id\" : \"5e21f24346211e2d8e0bdf3b\" , \"group\" : \"5e1dce30005a9652dbf0f7fd\" , \"__v\" : 0 , \"last_updated\" : \"2020-01-17T17:43:31.012Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"path\" : \"ota/group/5e1dce30005a9652dbf0f7fdzuCbB5tL5pniMY3B/firmware.bin\" , \"version\" : \"1.2.7\" } ], \"recordsTotal\" : 2 , \"recordsFiltered\" : 2 , \"draw\" : \"warp\" } Response Params otas (array) : array of OTA upgrade objects recordsTotal (number) : total number of records (OTA upgrades) recordsFiltered (number) : number of records that match given filter draw (string) : draw string from request Error Response Condition : If devices or groups resources are not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when getting group OTA's.\" , \"error\" : \"<Error information>\" } Make new OTA Update System will deploy new firmware.bin file to the secure Cloud location and trigger update process on the devices that are part of the group. Firmware version Notice that the OTA Update will be triggered on the devices if version parameter is different from the previous firmware! Also, if only a few devices in group have the different firmware version, only those devices will be upgraded. This is a great feature if you want to test your new firware only with a few devices, and then deploy it to the full fleet. URL : https://api.iotaap.io/v1/group Method : POST Auth required : YES Body Params (all are required) firmware (file) : firmware.bin file (compiled Firmware) group (string) : group ID token (string) : valid group token version (string) : firmware version (Semantic versioning, e.g.: 1.5.7) Firmware You must upload only firmware.bin file that is generated by PlatformIO. You have to keep group key, token and OTA information in the new firmware version otherwise you will loose the possibility to monitor, control or update your devices remotely! Body example (form-data) Key Value firmware [firmware.bin] group 5e1dce30005aff52dbf0f3fd token zuCws5tL5ffiMY3B version 2.3.6 Success Response Code : 201 CREATED Response example { \"message\" : \"Firmware successfully deployed\" } Error Responses Condition : If mandatory parameter is missing, if Group ID is not valid, or if file is not uploaded Code : 400 BAD REQUEST Content : { \"message\" : \"<field-name> is a mandatory field\" } { \"message\" : \"Group ID is not valid\" } { \"message\" : \"No file uploaded\" } Condition : If group doesn't exist or current user is not the owner Code : 404 NOT FOUND Content : { \"message\" : \"No such group\" } Condition : If there was an issue during firmware deployment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when uploading firmware file\" , \"error\" : \"<Error information>\" }","title":"Group OTA"},{"location":"groupOta/#group-ota-update","text":"IoTaaP Group OTA Update gives you the possibility to deploy your new firmware to the multiple devices remotely.","title":"Group OTA Update"},{"location":"groupOta/#get-all-ota-updates","text":"Returns list of all OTA upgrades for the owned groups. Notice that system will return only last OTA upgrade information for the group. URL : https://api.iotaap.io/v1/ota/group Method : GET Auth required : YES URL Params search_value (string) : filtering value string (filtering path parameter) offset (number) : number of records to skip limit (number) : number of records to return draw (string) : value will be returned back in the response order_dir (string) : asc/desc","title":"Get all OTA Updates"},{"location":"groupOta/#success-response","text":"Code : 200 OK Response example { \"otas\" : [ { \"_id\" : \"5e1bc21cdfa10030ab7ea212\" , \"group\" : \"5e1b76bc4315b70eb242567a\" , \"__v\" : 0 , \"last_updated\" : \"2020-01-17T17:38:59.983Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"path\" : \"ota/group/5e1b76bc4315b70eb242567aAATluvfLURijoH9d/firmware.bin\" , \"version\" : \"1.2.7\" }, { \"_id\" : \"5e21f24346211e2d8e0bdf3b\" , \"group\" : \"5e1dce30005a9652dbf0f7fd\" , \"__v\" : 0 , \"last_updated\" : \"2020-01-17T17:43:31.012Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"path\" : \"ota/group/5e1dce30005a9652dbf0f7fdzuCbB5tL5pniMY3B/firmware.bin\" , \"version\" : \"1.2.7\" } ], \"recordsTotal\" : 2 , \"recordsFiltered\" : 2 , \"draw\" : \"warp\" } Response Params otas (array) : array of OTA upgrade objects recordsTotal (number) : total number of records (OTA upgrades) recordsFiltered (number) : number of records that match given filter draw (string) : draw string from request","title":"Success Response"},{"location":"groupOta/#error-response","text":"Condition : If devices or groups resources are not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when getting group OTA's.\" , \"error\" : \"<Error information>\" }","title":"Error Response"},{"location":"groupOta/#make-new-ota-update","text":"System will deploy new firmware.bin file to the secure Cloud location and trigger update process on the devices that are part of the group. Firmware version Notice that the OTA Update will be triggered on the devices if version parameter is different from the previous firmware! Also, if only a few devices in group have the different firmware version, only those devices will be upgraded. This is a great feature if you want to test your new firware only with a few devices, and then deploy it to the full fleet. URL : https://api.iotaap.io/v1/group Method : POST Auth required : YES Body Params (all are required) firmware (file) : firmware.bin file (compiled Firmware) group (string) : group ID token (string) : valid group token version (string) : firmware version (Semantic versioning, e.g.: 1.5.7) Firmware You must upload only firmware.bin file that is generated by PlatformIO. You have to keep group key, token and OTA information in the new firmware version otherwise you will loose the possibility to monitor, control or update your devices remotely! Body example (form-data) Key Value firmware [firmware.bin] group 5e1dce30005aff52dbf0f3fd token zuCws5tL5ffiMY3B version 2.3.6","title":"Make new OTA Update"},{"location":"groupOta/#success-response_1","text":"Code : 201 CREATED Response example { \"message\" : \"Firmware successfully deployed\" }","title":"Success Response"},{"location":"groupOta/#error-responses","text":"Condition : If mandatory parameter is missing, if Group ID is not valid, or if file is not uploaded Code : 400 BAD REQUEST Content : { \"message\" : \"<field-name> is a mandatory field\" } { \"message\" : \"Group ID is not valid\" } { \"message\" : \"No file uploaded\" } Condition : If group doesn't exist or current user is not the owner Code : 404 NOT FOUND Content : { \"message\" : \"No such group\" } Condition : If there was an issue during firmware deployment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when uploading firmware file\" , \"error\" : \"<Error information>\" }","title":"Error Responses"},{"location":"groups/","text":"Groups User can manage only his groups. Groups are giving the possibility to manage and upgrade multiple devices at once. Get all groups URL : https://api.iotaap.io/v1/groups Method : GET Auth required : YES URL Params search_value (string) : filtering value string offset (number) : number of records to skip limit (number) : number of records to return draw (string) : value will be returned back in the response order_dir (string) : asc/desc Success Response Code : 200 OK Response example { \"groups\" : [ { \"_id\" : \"5e1b76bc4315b70eb242567a\" , \"name\" : \"cooling_system\" , \"token\" : \"AATluvfLURijoH9d\" , \"created_at\" : \"2020-01-12T19:42:52.504Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"__v\" : 0 }, { \"_id\" : \"5e1bcd259e233933d7f0ec2c\" , \"name\" : \"heating_system\" , \"token\" : \"JGGnkJ4gO9zfW4gR\" , \"created_at\" : \"2020-01-13T01:51:33.651Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"__v\" : 0 } ], \"recordsTotal\" : 6 , \"recordsFiltered\" : 2 , \"draw\" : \"warp\" } Response Params groups (array) : array of group objects recordsTotal (number) : total number of records (groups) recordsFiltered (number) : number of records that match given filter draw (string) : draw string from request Error Response Condition : If groups resources are not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when getting groups\" , \"error\" : \"<Error information>\" } Get specific group URL : https://api.iotaap.io/v1/groups/{group-id} Method : GET Auth required : YES Path Params {group-id} (string) : specific group ID URL example https://api.iotaap.io/v1/groups/5e1b76bc4315b70eb242567a Success Response Code : 200 OK Response example { \"_id\" : \"5e1b76bc4315b70eb242567a\" , \"name\" : \"cooling_system\" , \"token\" : \"AATluvfLURijoH9d\" , \"created_at\" : \"2020-01-12T19:42:52.504Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"__v\" : 0 } Error Response Condition : If group does not exist or current user is not the owner Code : 404 NOT FOUND Content : { \"message\" : \"No such group\" } Condition : If group resources are not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when getting group\" , \"error\" : \"<Error information>\" } Get group devices This will return all devices from the specific group. Add/Remove device In order to add or remove device from/to the group you need to update device group field. More info can be found in Devices category URL : https://api.iotaap.io/v1/groups/devices/{group-id} Method : GET Auth required : YES URL Params search_value (string) : filtering value string offset (number) : number of records to skip limit (number) : number of records to return draw (string) : value will be returned back in the response order_dir (string) : asc/desc Path Params {group-id} (string) : specific group ID URL example https://api.iotaap.io/v1/groups/devices/5e1b76bc4315b70eb242567a Success Response Code : 200 OK Response example { \"devices\" : [ { \"_id\" : \"5e1b5774afd4e404d68aebd6\" , \"type\" : \"Magnolia\" , \"name\" : \"cooling_1\" , \"token\" : \"iIP2C3D4B07O\" , \"last_contact\" : null , \"created_at\" : \"2020-01-12T17:29:24.180Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"__v\" : 0 , \"group\" : \"5e1b76bc4315b70eb242567a\" }, { \"_id\" : \"5e27048a8b48ba0a780f3124\" , \"type\" : \"Magnolia\" , \"name\" : \"cooling_2\" , \"token\" : \"nbyMJBdp8VR5\" , \"last_contact\" : null , \"created_at\" : \"2020-01-21T14:02:50.500Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"group\" : \"5e1b76bc4315b70eb242567a\" , \"__v\" : 0 } ], \"recordsTotal\" : 2 , \"recordsFiltered\" : 2 , \"draw\" : \"warp\" } Response Params devices (array) : array of device objects in specified group recordsTotal (number) : total number of records (devices) recordsFiltered (number) : number of records that match given filter draw (string) : draw string from request Error Response Condition : If group does not exist or current user is not the owner Code : 404 NOT FOUND Content : { \"message\" : \"No such group\" } Condition : If group resources are not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when getting group\" , \"error\" : \"<Error information>\" } Condition : If device resources are not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when getting devices\" , \"error\" : \"<Error information>\" } Create new group System will automatically generate new group credentials if there are available groups in the current billing plan URL : https://api.iotaap.io/v1/groups Method : POST Auth required : YES Body Params name (string) : group name Random name If name parameter is not provided system will automatically generate random 10 characters name for your group Body example { \"name\" : \"my_cooling_system\" } Success Response Code : 201 CREATED Response example { \"_id\" : \"5e277a1c97f08a0e2d5adf30\" , \"name\" : \"my_cooling_system\" , \"token\" : \"19gx6mBdcUhxkffD\" , \"created_at\" : \"2020-01-21T22:24:28.849Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"__v\" : 0 } Error Responses Condition : If user information is not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when creating group\" , \"error\" : \"<Error information>\" } Update existing group URL : https://api.iotaap.io/v1/groups/{group-id} Method : PUT Auth required : YES Path Params {group-id} (string) : specific group ID URL example https://api.iotaap.io/v1/groups/5e277a1c97f08a0e2d5adf30 Body Params name (string) : group name Body example { \"name\" : \"my_new_cooling_system\" } Success Response Code : 200 OK Response example { \"_id\" : \"5e277a1c97f08a0e2d5adf30\" , \"name\" : \"my_new_cooling_system\" , \"token\" : \"19gx6mBdcUhxkffD\" , \"created_at\" : \"2020-01-21T22:24:28.849Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"__v\" : 0 } Error Responses Condition : If group does not exist or current user is not the owner Code : 404 NOT FOUND Content : { \"message\" : \"No such group\" } Condition : If groups information is not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when updating group\" , \"error\" : \"<Error information>\" } Remove group URL : https://api.iotaap.io/v1/groups/{group-id} Method : DELETE Auth required : YES Path Params {group-id} (string) : specific group ID URL example https://api.iotaap.io/v1/groups/5e277a1c97f08a0e2d5adf30 Group devices When group is removed, all devices from the group will be automatically updated and group parameter will be removed from these records. Success Response Code : 200 OK Response example { \"message\" : \"Group successfully removed\" } Error Responses Condition : If group doesn't exist or current user is not the owner Code : 404 NOT FOUND Content : { \"message\" : \"No such group\" } Condition : If group ID is not valid Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Group ID is not valid\" } Condition : If groups or devices resource is not available at the time Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when removing the group\" , \"error\" : \"<Error information>\" }","title":"Groups"},{"location":"groups/#groups","text":"User can manage only his groups. Groups are giving the possibility to manage and upgrade multiple devices at once.","title":"Groups"},{"location":"groups/#get-all-groups","text":"URL : https://api.iotaap.io/v1/groups Method : GET Auth required : YES URL Params search_value (string) : filtering value string offset (number) : number of records to skip limit (number) : number of records to return draw (string) : value will be returned back in the response order_dir (string) : asc/desc","title":"Get all groups"},{"location":"groups/#success-response","text":"Code : 200 OK Response example { \"groups\" : [ { \"_id\" : \"5e1b76bc4315b70eb242567a\" , \"name\" : \"cooling_system\" , \"token\" : \"AATluvfLURijoH9d\" , \"created_at\" : \"2020-01-12T19:42:52.504Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"__v\" : 0 }, { \"_id\" : \"5e1bcd259e233933d7f0ec2c\" , \"name\" : \"heating_system\" , \"token\" : \"JGGnkJ4gO9zfW4gR\" , \"created_at\" : \"2020-01-13T01:51:33.651Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"__v\" : 0 } ], \"recordsTotal\" : 6 , \"recordsFiltered\" : 2 , \"draw\" : \"warp\" } Response Params groups (array) : array of group objects recordsTotal (number) : total number of records (groups) recordsFiltered (number) : number of records that match given filter draw (string) : draw string from request","title":"Success Response"},{"location":"groups/#error-response","text":"Condition : If groups resources are not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when getting groups\" , \"error\" : \"<Error information>\" }","title":"Error Response"},{"location":"groups/#get-specific-group","text":"URL : https://api.iotaap.io/v1/groups/{group-id} Method : GET Auth required : YES Path Params {group-id} (string) : specific group ID URL example https://api.iotaap.io/v1/groups/5e1b76bc4315b70eb242567a","title":"Get specific group"},{"location":"groups/#success-response_1","text":"Code : 200 OK Response example { \"_id\" : \"5e1b76bc4315b70eb242567a\" , \"name\" : \"cooling_system\" , \"token\" : \"AATluvfLURijoH9d\" , \"created_at\" : \"2020-01-12T19:42:52.504Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"__v\" : 0 }","title":"Success Response"},{"location":"groups/#error-response_1","text":"Condition : If group does not exist or current user is not the owner Code : 404 NOT FOUND Content : { \"message\" : \"No such group\" } Condition : If group resources are not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when getting group\" , \"error\" : \"<Error information>\" }","title":"Error Response"},{"location":"groups/#get-group-devices","text":"This will return all devices from the specific group. Add/Remove device In order to add or remove device from/to the group you need to update device group field. More info can be found in Devices category URL : https://api.iotaap.io/v1/groups/devices/{group-id} Method : GET Auth required : YES URL Params search_value (string) : filtering value string offset (number) : number of records to skip limit (number) : number of records to return draw (string) : value will be returned back in the response order_dir (string) : asc/desc Path Params {group-id} (string) : specific group ID URL example https://api.iotaap.io/v1/groups/devices/5e1b76bc4315b70eb242567a","title":"Get group devices"},{"location":"groups/#success-response_2","text":"Code : 200 OK Response example { \"devices\" : [ { \"_id\" : \"5e1b5774afd4e404d68aebd6\" , \"type\" : \"Magnolia\" , \"name\" : \"cooling_1\" , \"token\" : \"iIP2C3D4B07O\" , \"last_contact\" : null , \"created_at\" : \"2020-01-12T17:29:24.180Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"__v\" : 0 , \"group\" : \"5e1b76bc4315b70eb242567a\" }, { \"_id\" : \"5e27048a8b48ba0a780f3124\" , \"type\" : \"Magnolia\" , \"name\" : \"cooling_2\" , \"token\" : \"nbyMJBdp8VR5\" , \"last_contact\" : null , \"created_at\" : \"2020-01-21T14:02:50.500Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"group\" : \"5e1b76bc4315b70eb242567a\" , \"__v\" : 0 } ], \"recordsTotal\" : 2 , \"recordsFiltered\" : 2 , \"draw\" : \"warp\" } Response Params devices (array) : array of device objects in specified group recordsTotal (number) : total number of records (devices) recordsFiltered (number) : number of records that match given filter draw (string) : draw string from request","title":"Success Response"},{"location":"groups/#error-response_2","text":"Condition : If group does not exist or current user is not the owner Code : 404 NOT FOUND Content : { \"message\" : \"No such group\" } Condition : If group resources are not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when getting group\" , \"error\" : \"<Error information>\" } Condition : If device resources are not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when getting devices\" , \"error\" : \"<Error information>\" }","title":"Error Response"},{"location":"groups/#create-new-group","text":"System will automatically generate new group credentials if there are available groups in the current billing plan URL : https://api.iotaap.io/v1/groups Method : POST Auth required : YES Body Params name (string) : group name Random name If name parameter is not provided system will automatically generate random 10 characters name for your group Body example { \"name\" : \"my_cooling_system\" }","title":"Create new group"},{"location":"groups/#success-response_3","text":"Code : 201 CREATED Response example { \"_id\" : \"5e277a1c97f08a0e2d5adf30\" , \"name\" : \"my_cooling_system\" , \"token\" : \"19gx6mBdcUhxkffD\" , \"created_at\" : \"2020-01-21T22:24:28.849Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"__v\" : 0 }","title":"Success Response"},{"location":"groups/#error-responses","text":"Condition : If user information is not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when creating group\" , \"error\" : \"<Error information>\" }","title":"Error Responses"},{"location":"groups/#update-existing-group","text":"URL : https://api.iotaap.io/v1/groups/{group-id} Method : PUT Auth required : YES Path Params {group-id} (string) : specific group ID URL example https://api.iotaap.io/v1/groups/5e277a1c97f08a0e2d5adf30 Body Params name (string) : group name Body example { \"name\" : \"my_new_cooling_system\" }","title":"Update existing group"},{"location":"groups/#success-response_4","text":"Code : 200 OK Response example { \"_id\" : \"5e277a1c97f08a0e2d5adf30\" , \"name\" : \"my_new_cooling_system\" , \"token\" : \"19gx6mBdcUhxkffD\" , \"created_at\" : \"2020-01-21T22:24:28.849Z\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"__v\" : 0 }","title":"Success Response"},{"location":"groups/#error-responses_1","text":"Condition : If group does not exist or current user is not the owner Code : 404 NOT FOUND Content : { \"message\" : \"No such group\" } Condition : If groups information is not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when updating group\" , \"error\" : \"<Error information>\" }","title":"Error Responses"},{"location":"groups/#remove-group","text":"URL : https://api.iotaap.io/v1/groups/{group-id} Method : DELETE Auth required : YES Path Params {group-id} (string) : specific group ID URL example https://api.iotaap.io/v1/groups/5e277a1c97f08a0e2d5adf30 Group devices When group is removed, all devices from the group will be automatically updated and group parameter will be removed from these records.","title":"Remove group"},{"location":"groups/#success-response_5","text":"Code : 200 OK Response example { \"message\" : \"Group successfully removed\" }","title":"Success Response"},{"location":"groups/#error-responses_2","text":"Condition : If group doesn't exist or current user is not the owner Code : 404 NOT FOUND Content : { \"message\" : \"No such group\" } Condition : If group ID is not valid Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Group ID is not valid\" } Condition : If groups or devices resource is not available at the time Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when removing the group\" , \"error\" : \"<Error information>\" }","title":"Error Responses"},{"location":"mqtt/","text":"MQTT MQTT REST gives user the possiblity to manage MQTT instances. All instances created are available immediately after creation. Every user can access only his own MQTT instance(s) and dedicated topic(s). Get all MQTT instances URL : https://api.iotaap.io/v1/mqtt Method : GET Auth required : YES URL Params search_value (string) : filtering value string (filtering by user parameter) offset (number) : number of records to skip limit (number) : number of records to return draw (string) : value will be returned back in the response order_dir (string) : asc/desc Success Response Code : 200 OK Response example { \"mqtts\" : [ { \"_id\" : \"5e23585e02180144b6dcbb05\" , \"server\" : \"mqtt.iotaap.io\" , \"user\" : \"Hcixd1Fx\" , \"password\" : \"09RwX8S5aQET\" , \"port\" : \"8883\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"created_at\" : \"2020-01-18T19:11:26.413Z\" , \"__v\" : 0 }, { \"_id\" : \"5e245a5153f26101dbf382d8\" , \"server\" : \"mqtt.iotaap.io\" , \"user\" : \"Z3sT65kb\" , \"password\" : \"eNb1wBtdK7im\" , \"port\" : \"8883\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"created_at\" : \"2020-01-19T13:32:01.259Z\" , \"__v\" : 0 } ], \"recordsTotal\" : 21 , \"recordsFiltered\" : 2 , \"draw\" : \"warp\" } Response Params mqtts (array) : array of MQTT objects recordsTotal (number) : total number of records (MQTT instances) recordsFiltered (number) : number of records that match given filter draw (string) : draw string from request Error Response Condition : If MQTT instance resources are not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when getting MQTT instances\" , \"error\" : \"<Error information>\" } Get specific MQTT instance URL : https://api.iotaap.io/v1/mqtt/{mqtt-id} Method : GET Auth required : YES Path Params {mqtt-id} (string) : specific MQTT instance ID URL example https://api.iotaap.io/v1/mqtt/5e23585e02180144b6dcbb05 Success Response Code : 200 OK Response example { \"_id\" : \"5e23585e02180144b6dcbb05\" , \"server\" : \"mqtt.iotaap.io\" , \"user\" : \"Hcixd1Fx\" , \"password\" : \"09RwX8S5aQET\" , \"port\" : \"8883\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"created_at\" : \"2020-01-18T19:11:26.413Z\" , \"__v\" : 0 } Error Response Condition : If MQTT instance does not exist or current user is not the owner Code : 404 NOT FOUND Content : { \"message\" : \"No such MQTT instance\" } Condition : If MQTT instance resources are not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when getting MQTT instance\" , \"error\" : \"<Error information>\" } Create new MQTT instance System will automatically generate new MQTT instance credentials if there are available MQTT instances in the current billing plan URL : https://api.iotaap.io/v1/mqtt Method : POST Auth required : YES Instance credentials All instance credentials are generated by our system, and cannot be changed. Success Response Code : 201 CREATED Response example { \"_id\" : \"5e278fecb702e4121e7aefa6\" , \"server\" : \"mqtt.iotaap.io\" , \"user\" : \"CZpgrCvQ\" , \"password\" : \"HdP7QTuqwF8Z\" , \"port\" : \"8883\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"created_at\" : \"2020-01-21T23:57:32.810Z\" , \"__v\" : 0 } Response Params _id (string) : new instance unique ID server (string) : MQTT server endpoint user (string) : username to be used when connecting to the instance password (string) : password to be used when connecting to the instance port (string) : port to be used when connecting to the endpoint owner (string) : your user ID (just for the reference) created_at (string) : timestamp of instance creation Error Responses Condition : If there was an issue with MQTT instance creation Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when creating MQTT instance\" , \"error\" : \"<Error information>\" } Remove MQTT instance Irreversible process When MQTT instance is removed, all access credentials will be removed, as well as any acitve topic(s). All topics and transport data will stop working immediately. Be aware that this is irreversible process and you will not be able to get same access credentials again. URL : https://api.iotaap.io/v1/mqtt/{mqtt-id} Method : DELETE Auth required : YES Path Params {mqtt-id} (string) : specific MQTT instance ID URL example https://api.iotaap.io/v1/mqtt/5e278fecb702e4121e7aefa6 Success Response Code : 200 OK Response example { \"message\" : \"'MQTT instance succesfully removed\" } Error Responses Condition : If MQTT instance doesn't exist or current user is not the owner Code : 404 NOT FOUND Content : { \"message\" : \"No such MQTT instance\" } Condition : If there was an issue with removing the instance Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when removing MQTT instance\" , \"error\" : \"<Error information>\" } Condition : If there was a problem with fetching user data on MQTT server Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error finding instance user\" }","title":"MQTT"},{"location":"mqtt/#mqtt","text":"MQTT REST gives user the possiblity to manage MQTT instances. All instances created are available immediately after creation. Every user can access only his own MQTT instance(s) and dedicated topic(s).","title":"MQTT"},{"location":"mqtt/#get-all-mqtt-instances","text":"URL : https://api.iotaap.io/v1/mqtt Method : GET Auth required : YES URL Params search_value (string) : filtering value string (filtering by user parameter) offset (number) : number of records to skip limit (number) : number of records to return draw (string) : value will be returned back in the response order_dir (string) : asc/desc","title":"Get all MQTT instances"},{"location":"mqtt/#success-response","text":"Code : 200 OK Response example { \"mqtts\" : [ { \"_id\" : \"5e23585e02180144b6dcbb05\" , \"server\" : \"mqtt.iotaap.io\" , \"user\" : \"Hcixd1Fx\" , \"password\" : \"09RwX8S5aQET\" , \"port\" : \"8883\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"created_at\" : \"2020-01-18T19:11:26.413Z\" , \"__v\" : 0 }, { \"_id\" : \"5e245a5153f26101dbf382d8\" , \"server\" : \"mqtt.iotaap.io\" , \"user\" : \"Z3sT65kb\" , \"password\" : \"eNb1wBtdK7im\" , \"port\" : \"8883\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"created_at\" : \"2020-01-19T13:32:01.259Z\" , \"__v\" : 0 } ], \"recordsTotal\" : 21 , \"recordsFiltered\" : 2 , \"draw\" : \"warp\" } Response Params mqtts (array) : array of MQTT objects recordsTotal (number) : total number of records (MQTT instances) recordsFiltered (number) : number of records that match given filter draw (string) : draw string from request","title":"Success Response"},{"location":"mqtt/#error-response","text":"Condition : If MQTT instance resources are not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when getting MQTT instances\" , \"error\" : \"<Error information>\" }","title":"Error Response"},{"location":"mqtt/#get-specific-mqtt-instance","text":"URL : https://api.iotaap.io/v1/mqtt/{mqtt-id} Method : GET Auth required : YES Path Params {mqtt-id} (string) : specific MQTT instance ID URL example https://api.iotaap.io/v1/mqtt/5e23585e02180144b6dcbb05","title":"Get specific MQTT instance"},{"location":"mqtt/#success-response_1","text":"Code : 200 OK Response example { \"_id\" : \"5e23585e02180144b6dcbb05\" , \"server\" : \"mqtt.iotaap.io\" , \"user\" : \"Hcixd1Fx\" , \"password\" : \"09RwX8S5aQET\" , \"port\" : \"8883\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"created_at\" : \"2020-01-18T19:11:26.413Z\" , \"__v\" : 0 }","title":"Success Response"},{"location":"mqtt/#error-response_1","text":"Condition : If MQTT instance does not exist or current user is not the owner Code : 404 NOT FOUND Content : { \"message\" : \"No such MQTT instance\" } Condition : If MQTT instance resources are not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when getting MQTT instance\" , \"error\" : \"<Error information>\" }","title":"Error Response"},{"location":"mqtt/#create-new-mqtt-instance","text":"System will automatically generate new MQTT instance credentials if there are available MQTT instances in the current billing plan URL : https://api.iotaap.io/v1/mqtt Method : POST Auth required : YES Instance credentials All instance credentials are generated by our system, and cannot be changed.","title":"Create new MQTT instance"},{"location":"mqtt/#success-response_2","text":"Code : 201 CREATED Response example { \"_id\" : \"5e278fecb702e4121e7aefa6\" , \"server\" : \"mqtt.iotaap.io\" , \"user\" : \"CZpgrCvQ\" , \"password\" : \"HdP7QTuqwF8Z\" , \"port\" : \"8883\" , \"owner\" : \"5e10fc5e77ba18070312e171\" , \"created_at\" : \"2020-01-21T23:57:32.810Z\" , \"__v\" : 0 } Response Params _id (string) : new instance unique ID server (string) : MQTT server endpoint user (string) : username to be used when connecting to the instance password (string) : password to be used when connecting to the instance port (string) : port to be used when connecting to the endpoint owner (string) : your user ID (just for the reference) created_at (string) : timestamp of instance creation","title":"Success Response"},{"location":"mqtt/#error-responses","text":"Condition : If there was an issue with MQTT instance creation Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when creating MQTT instance\" , \"error\" : \"<Error information>\" }","title":"Error Responses"},{"location":"mqtt/#remove-mqtt-instance","text":"Irreversible process When MQTT instance is removed, all access credentials will be removed, as well as any acitve topic(s). All topics and transport data will stop working immediately. Be aware that this is irreversible process and you will not be able to get same access credentials again. URL : https://api.iotaap.io/v1/mqtt/{mqtt-id} Method : DELETE Auth required : YES Path Params {mqtt-id} (string) : specific MQTT instance ID URL example https://api.iotaap.io/v1/mqtt/5e278fecb702e4121e7aefa6","title":"Remove MQTT instance"},{"location":"mqtt/#success-response_3","text":"Code : 200 OK Response example { \"message\" : \"'MQTT instance succesfully removed\" }","title":"Success Response"},{"location":"mqtt/#error-responses_1","text":"Condition : If MQTT instance doesn't exist or current user is not the owner Code : 404 NOT FOUND Content : { \"message\" : \"No such MQTT instance\" } Condition : If there was an issue with removing the instance Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when removing MQTT instance\" , \"error\" : \"<Error information>\" } Condition : If there was a problem with fetching user data on MQTT server Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error finding instance user\" }","title":"Error Responses"},{"location":"mqttRest/","text":"MQTT REST Bridge MQTT REST Bridge gives user the possiblity to send POST request to the server and transfer payload to the specific topic. Send request Send data to the specific topic using options and credentials URL : https://api.iotaap.io/v1/mqtt-rest Method : POST Auth required : YES Body Params username (string) : MQTT Instance username password (string) : MQTT Instance password topic (stirng) : Topic to transfer data to retain (string) : true/false qos (string) : QoS (0,1,2) message (string)/(number)/(object) : Payload Retained message If retain parameter is not provided, default value of false will be used. QoS QoS (Quality of Service) can be configured in this request. If qos parameter is not provided, default value of 0 will be used. Body example number { \"username\" : \"oLP6MA9r\" , \"password\" : \"abdI2FxeHStx\" , \"topic\" : \"/motor-speed\" , \"retain\" : true , \"qos\" : 2 , \"message\" : 23 } Body example string { \"username\" : \"oLP6MA9r\" , \"password\" : \"abdI2FxeHStx\" , \"topic\" : \"/motor-speed\" , \"message\" : 23 } Body example object { \"username\" : \"oLP6MA9r\" , \"password\" : \"abdI2FxeHStx\" , \"topic\" : \"/motor-speed\" , \"message\" : { \"start\" : 80 , \"stop\" : 23 , \"idle\" : \"min\" , \"regulator\" : { \"P\" : 23 , \"I\" : 56 , \"D\" : 10 } } } Root topic Root topic (your username) is automatically included in the request. You only have to pass the target topic(s). In the above example, data will be published to the topic /oLP6MA9r/motor-speed . Leading / must be included . Success Response Code : 200 OK Response example { \"message\" : \"Message published\" } Error Responses Condition : If system timeouted Code : 400 BAD REQUEST Payload transfer timeout If there is no positive response from the MQTT server, or there was an issue with initial server connection (wrong server, wrong credentials, etc.), message transfer request will be terminated after 8000ms . Content : { \"message\" : \"There was a problem connecting MQTT server\" } Condition : If mandatory parameter is missing, if Group ID is not valid, or if file is not uploaded Code : 400 BAD REQUEST Content : { \"message\" : \"<field-name> is a mandatory field\" } Condition : If there was an issue with MQTT server communication Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"There was an error\" , \"error\" : \"<Error information>\" }","title":"MQTT REST Bridge"},{"location":"mqttRest/#mqtt-rest-bridge","text":"MQTT REST Bridge gives user the possiblity to send POST request to the server and transfer payload to the specific topic.","title":"MQTT REST Bridge"},{"location":"mqttRest/#send-request","text":"Send data to the specific topic using options and credentials URL : https://api.iotaap.io/v1/mqtt-rest Method : POST Auth required : YES Body Params username (string) : MQTT Instance username password (string) : MQTT Instance password topic (stirng) : Topic to transfer data to retain (string) : true/false qos (string) : QoS (0,1,2) message (string)/(number)/(object) : Payload Retained message If retain parameter is not provided, default value of false will be used. QoS QoS (Quality of Service) can be configured in this request. If qos parameter is not provided, default value of 0 will be used. Body example number { \"username\" : \"oLP6MA9r\" , \"password\" : \"abdI2FxeHStx\" , \"topic\" : \"/motor-speed\" , \"retain\" : true , \"qos\" : 2 , \"message\" : 23 } Body example string { \"username\" : \"oLP6MA9r\" , \"password\" : \"abdI2FxeHStx\" , \"topic\" : \"/motor-speed\" , \"message\" : 23 } Body example object { \"username\" : \"oLP6MA9r\" , \"password\" : \"abdI2FxeHStx\" , \"topic\" : \"/motor-speed\" , \"message\" : { \"start\" : 80 , \"stop\" : 23 , \"idle\" : \"min\" , \"regulator\" : { \"P\" : 23 , \"I\" : 56 , \"D\" : 10 } } } Root topic Root topic (your username) is automatically included in the request. You only have to pass the target topic(s). In the above example, data will be published to the topic /oLP6MA9r/motor-speed . Leading / must be included .","title":"Send request"},{"location":"mqttRest/#success-response","text":"Code : 200 OK Response example { \"message\" : \"Message published\" }","title":"Success Response"},{"location":"mqttRest/#error-responses","text":"Condition : If system timeouted Code : 400 BAD REQUEST Payload transfer timeout If there is no positive response from the MQTT server, or there was an issue with initial server connection (wrong server, wrong credentials, etc.), message transfer request will be terminated after 8000ms . Content : { \"message\" : \"There was a problem connecting MQTT server\" } Condition : If mandatory parameter is missing, if Group ID is not valid, or if file is not uploaded Code : 400 BAD REQUEST Content : { \"message\" : \"<field-name> is a mandatory field\" } Condition : If there was an issue with MQTT server communication Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"There was an error\" , \"error\" : \"<Error information>\" }","title":"Error Responses"},{"location":"settings/","text":"Settings Settings age giving the possibility to the user to customize their app experience. Get settings URL : https://api.iotaap.io/v1/settings/current Method : GET Auth required : YES Success Response Code : 200 OK Response example { \"themeName\" : \"dark\" } Error Response Condition : If settings are not available for the current user Code : 404 NOT FOUND Content : { \"message\" : \"No settings data available\" } Condition : If settings are not available for the current user Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when getting settings data\" , \"error\" : \"<Error information>\" } Update settings URL : https://api.iotaap.io/v1/settings/current Method : PUT Auth required : YES Body Params themeName (string) : \"default/dark\" Body example { \"themeName\" : \"default\" } Success Response Code : 200 OK Response example { \"themeName\" : \"default\" } Error Response Condition : If settings are not available for the current user Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when getting settings data\" , \"error\" : \"<Error information>\" }","title":"Settings"},{"location":"settings/#settings","text":"Settings age giving the possibility to the user to customize their app experience.","title":"Settings"},{"location":"settings/#get-settings","text":"URL : https://api.iotaap.io/v1/settings/current Method : GET Auth required : YES","title":"Get settings"},{"location":"settings/#success-response","text":"Code : 200 OK Response example { \"themeName\" : \"dark\" }","title":"Success Response"},{"location":"settings/#error-response","text":"Condition : If settings are not available for the current user Code : 404 NOT FOUND Content : { \"message\" : \"No settings data available\" } Condition : If settings are not available for the current user Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when getting settings data\" , \"error\" : \"<Error information>\" }","title":"Error Response"},{"location":"settings/#update-settings","text":"URL : https://api.iotaap.io/v1/settings/current Method : PUT Auth required : YES Body Params themeName (string) : \"default/dark\" Body example { \"themeName\" : \"default\" }","title":"Update settings"},{"location":"settings/#success-response_1","text":"Code : 200 OK Response example { \"themeName\" : \"default\" }","title":"Success Response"},{"location":"settings/#error-response_1","text":"Condition : If settings are not available for the current user Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when getting settings data\" , \"error\" : \"<Error information>\" }","title":"Error Response"},{"location":"user/","text":"User User can manage only his own data. Every user is recognized by Bearer token provided in the Authentication header. Get current user URL : https://api.iotaap.io/v1/users/current Method : GET Auth required : YES Success Response Code : 200 OK Response example { \"id\" : \"5e10fc5effba18cc0f12e111\" , \"email\" : \"my@email.com\" , \"role\" : \"user\" , \"firstName\" : \"Doc\" , \"lastName\" : \"Brown\" , \"address\" : { \"street\" : \"1640 Riverside Drive\" , \"city\" : \"Hill Valley, California\" , \"zipCode\" : \"90202\" }, \"company\" : \"Future is back Ltd.\" , \"vatId\" : \"98765432112\" , \"settings\" : { \"themeName\" : \"dark\" } } Error Response Condition : If settings are not available for the current user Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when getting user data\" , \"error\" : \"<Error information>\" } Update current user URL : https://api.iotaap.io/v1/users/current Method : PUT Auth required : YES Body Params (all are optional) email (string) : updated email firstName (string) : updated first name lastName (string) : updated last name address (object) : street (string) : updated street city (string) : updated city zipCode (string) : updated zip code company (string) : updated company name vatId (string) : updated VAT ID Body example { \"email\" : \"mynew@email.com\" , \"firstName\" : \"Jacky\" , \"lastName\" : \"Jones\" , \"address\" : { \"street\" : \"83 Beacon Street\" , \"city\" : \"Boston\" , \"zipCode\" : \"94256\" }, \"company\" : \"Cosby Creations Ltd.\" , \"vatId\" : \"64187521641\" } Success Response Code : 200 OK Response example { \"message\" : \"User successfully updated\" } Error Responses Condition : If user cannot be found Code : 404 NOT FOUND Content : { \"message\" : \"No such user\" } Condition : If user information is not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when updating user\" , \"error\" : \"<Error information>\" }","title":"User"},{"location":"user/#user","text":"User can manage only his own data. Every user is recognized by Bearer token provided in the Authentication header.","title":"User"},{"location":"user/#get-current-user","text":"URL : https://api.iotaap.io/v1/users/current Method : GET Auth required : YES","title":"Get current user"},{"location":"user/#success-response","text":"Code : 200 OK Response example { \"id\" : \"5e10fc5effba18cc0f12e111\" , \"email\" : \"my@email.com\" , \"role\" : \"user\" , \"firstName\" : \"Doc\" , \"lastName\" : \"Brown\" , \"address\" : { \"street\" : \"1640 Riverside Drive\" , \"city\" : \"Hill Valley, California\" , \"zipCode\" : \"90202\" }, \"company\" : \"Future is back Ltd.\" , \"vatId\" : \"98765432112\" , \"settings\" : { \"themeName\" : \"dark\" } }","title":"Success Response"},{"location":"user/#error-response","text":"Condition : If settings are not available for the current user Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when getting user data\" , \"error\" : \"<Error information>\" }","title":"Error Response"},{"location":"user/#update-current-user","text":"URL : https://api.iotaap.io/v1/users/current Method : PUT Auth required : YES Body Params (all are optional) email (string) : updated email firstName (string) : updated first name lastName (string) : updated last name address (object) : street (string) : updated street city (string) : updated city zipCode (string) : updated zip code company (string) : updated company name vatId (string) : updated VAT ID Body example { \"email\" : \"mynew@email.com\" , \"firstName\" : \"Jacky\" , \"lastName\" : \"Jones\" , \"address\" : { \"street\" : \"83 Beacon Street\" , \"city\" : \"Boston\" , \"zipCode\" : \"94256\" }, \"company\" : \"Cosby Creations Ltd.\" , \"vatId\" : \"64187521641\" }","title":"Update current user"},{"location":"user/#success-response_1","text":"Code : 200 OK Response example { \"message\" : \"User successfully updated\" }","title":"Success Response"},{"location":"user/#error-responses","text":"Condition : If user cannot be found Code : 404 NOT FOUND Content : { \"message\" : \"No such user\" } Condition : If user information is not available at the moment Code : 500 INTERNAL SERVER ERROR Content : { \"message\" : \"Error when updating user\" , \"error\" : \"<Error information>\" }","title":"Error Responses"}]}